<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Color Blind (Daltonismo) # El daltonismo es una discapacidad visual que afecta la percepción del color. Se produce cuando los conos de la retina, células especializadas en detectar diferentes colores de la luz, no funcionan correctamente. Como resultado, las personas con daltonismo tienen dificultades para distinguir ciertos colores o los ven de forma diferente a como las personas con visión normal los perciben.
Existen diferentes tipos de daltonismo, pero el más común es el deuteranomalía, que afecta la capacidad de diferenciar entre el verde y el rojo."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:url" content="https://compuvisual2023i.github.io/showcase/docs/Entregas/Visual-Illutions/Color-Blind/"><title>Color Blind | Computación Visual 2023-I</title><link rel=manifest href=/showcase/manifest.json><link rel=icon href=/showcase/favicon.png type=image/x-icon><link rel=stylesheet href=/showcase/book.min.4b35fed0bea034bbc19c89c71e14b73fb9c68cfcc586b9382adfb9b7b103ba06.css integrity="sha256-SzX+0L6gNLvBnInHHhS3P7nGjPzFhrk4Kt+5t7EDugY=" crossorigin=anonymous><script defer src=/showcase/flexsearch.min.js></script>
<script defer src=/showcase/en.search.min.3a8d658c77eb93c7f12a2b8af49a700131e474f288eefb605d9fa61576dbe5a7.js integrity="sha256-Oo1ljHfrk8fxKiuK9JpwATHkdPKI7vtgXZ+mFXbb5ac=" crossorigin=anonymous></script>
<link rel=alternate type=application/rss+xml href=https://compuvisual2023i.github.io/showcase/docs/Entregas/Visual-Illutions/Color-Blind/index.xml title="Computación Visual 2023-I"></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/showcase/><span>Computación Visual 2023-I</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><a href=/showcase/docs/Julio/>Julio</a></li><li><a href=/showcase/docs/Jhon/>Jhon</a></li><li><a href=/showcase/docs/Santiago/>Santiago</a></li><li><input type=checkbox id=section-199f820c3863c09a6d11bbcf40d35372 class=toggle checked>
<label for=section-199f820c3863c09a6d11bbcf40d35372 class="flex justify-between"><a href=/showcase/docs/Entregas/>Entregas</a></label><ul><li><input type=checkbox id=section-b14f96def3329a91af37748953d8a2c0 class=toggle>
<label for=section-b14f96def3329a91af37748953d8a2c0 class="flex justify-between"><a role=button>Otro Tema</a></label><ul><li><a href=/showcase/docs/Entregas/OtroTema/Otro/>Otro</a></li></ul></li><li><input type=checkbox id=section-a9beeb45f7767fa9178e1bf3e56f8ecf class=toggle checked>
<label for=section-a9beeb45f7767fa9178e1bf3e56f8ecf class="flex justify-between"><a href=/showcase/docs/Entregas/Visual-Illutions/>Visual Illutions</a></label><ul><li><a href=/showcase/docs/Entregas/Visual-Illutions/App-Perlin/>App Perlin</a></li><li><a href=/showcase/docs/Entregas/Visual-Illutions/Color-Blind/ class=active>Color Blind</a><ul></ul></li><li><a href=/showcase/docs/Entregas/Visual-Illutions/Monocular-Cues/>Monocular Cues</a></li></ul></li></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/showcase/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Color Blind</strong>
<label for=toc-control><img src=/showcase/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#color-blind-daltonismo>Color Blind (Daltonismo)</a></li><li><a href=#simulación-de-tipos-de-daltonismo>Simulación de tipos de daltonismo</a><ul><li><ul><li><a href=#conversión-de-rgb-a-lms>Conversión de RGB a LMS</a></li><li><a href=#imagen-original>Imagen Original</a></li><li><a href=#imagen-con-protanopia>Imagen con Protanopia</a></li><li><a href=#imagen-con-deutaranopia>Imagen con Deutaranopia</a></li><li><a href=#imagen-con-tritanopia>Imagen con Tritanopia</a></li></ul></li><li><a href=#corrección-de-colores-para-los-daltónicos>Corrección de colores para los daltónicos</a><ul><li><a href=#protanopia>Protanopia</a></li><li><a href=#deuteranopia>Deuteranopia</a></li><li><a href=#tritanopia>Tritanopia</a></li></ul></li></ul></li></ul></nav></aside></header><article class=markdown><h1 id=color-blind-daltonismo>Color Blind (Daltonismo)
<a class=anchor href=#color-blind-daltonismo>#</a></h1><p>El daltonismo es una discapacidad visual que afecta la percepción del color. Se produce cuando los conos de la retina, células especializadas en detectar diferentes colores de la luz, no funcionan correctamente. Como resultado, las personas con daltonismo tienen dificultades para distinguir ciertos colores o los ven de forma diferente a como las personas con visión normal los perciben.</p><p>Existen diferentes tipos de daltonismo, pero el más común es el deuteranomalía, que afecta la capacidad de diferenciar entre el verde y el rojo. También hay casos de protanopia, que afecta la percepción del rojo, y de tritanopia, que afecta la percepción del azul.</p><p>El daltonismo es más común en los hombres que en las mujeres, ya que es una condición genética ligada al cromosoma X. Aunque no existe una cura para el daltonismo, las personas afectadas pueden aprender a adaptarse a su condición y utilizar herramientas como lentes de contacto o aplicaciones móviles para ayudarles a diferenciar los colores.</p><h1 id=simulación-de-tipos-de-daltonismo>Simulación de tipos de daltonismo
<a class=anchor href=#simulaci%c3%b3n-de-tipos-de-daltonismo>#</a></h1><p>Para poder simular los tipos de daltonismo es necesario saber que el ojo humano percibe los colores según su longitud de onda y por ende es necesario trabajar en un espacio de colores LMS (L (longitud de onda larga), M (longitud de onda media) y S (longitud de onda corta)), pero p5 trabaja con un espacio en RGB (Red, Green, Blue), entonces, es necesario realizar una conversión entre estos dos espacios de colores.</p><h3 id=conversión-de-rgb-a-lms>Conversión de RGB a LMS
<a class=anchor href=#conversi%c3%b3n-de-rgb-a-lms>#</a></h3><h3 id=imagen-original>Imagen Original
<a class=anchor href=#imagen-original>#</a></h3><iframe id=breath style=width:270px;height:175px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/addons/p5.sound.min.js></script>
            
            
            
            
            
            <script>
              
    let img;

    function preload(){
        img = loadImage('img.svg');
    }

    function setup() {
        createCanvas(img.width, img.height);
        image(img,0,0)       
    }

    function draw(){
        
    }



            </script>
          </head>
          <body>
          </body>
        </html>
      "></iframe><p>Para esto multiplicamos el vector de píxeles RGB por una matriz de conversión obtenida de simplificar la conversión de RGB &ndash;> XYZ &ndash;> LMS.</p><link rel=stylesheet href=/showcase/katex/katex.min.css><script defer src=/showcase/katex/katex.min.js></script>
<script defer src=/showcase/katex/auto-render.min.js onload=renderMathInElement(document.body)></script><span class=text-center>
\(v =
\begin{pmatrix}
r \\
g \\
b
\end{pmatrix},
M_c=
\begin{pmatrix}
0.31399022 & 0.63951294 & 0.04649755 \\
0.15537241 & 0.75789446 & 0.08670142 \\
0.01775239 & 0.10944209 & 0.87256922
\end{pmatrix}
\newline
M_c \cdot v = \begin{pmatrix} r_l \\ g_l \\ b_l \end{pmatrix} = v_l\)</span><p>Ahora el vector obtenido se multiplica por una matriz que aplica una simulación de daltonismo al espacio LMS.
En este caso para la protanopia.</p><span class=text-center>\(S_p = \begin{pmatrix} 0 & 1.05118294 & -0.05116099 \\
0&amp;1&amp;0\\
0&amp;0&amp;1 \end{pmatrix}
\newline
S_p \cdot v_l = \begin{pmatrix} r_p \\ g_p \\ b_p \end{pmatrix} = v_p\)</span><p>y finalmente regresamos al espacio RGB multiplicando por la inversa de la matriz de conversión.</p><span class=text-center>\( M_c^-1=
\begin{pmatrix}
5.47221206 & −4.6419601 & 0.16963708\\
−1.1252419 & 2.29317094 & −0.1678952\\
0.02980165 & −0.19318073 & 1.16364789
\end{pmatrix}
\newline
M_c^-1 \cdot v_p \)</span><p>Esto es una resumen de un articulo web de Jim Schmitz, un artista y explorador digital, en su sitio <a href=https://ixora.io/projects/colorblindness/color-blindness-simulation-research/>ixora</a>.</p><h3 id=imagen-con-protanopia>Imagen con Protanopia
<a class=anchor href=#imagen-con-protanopia>#</a></h3><iframe id=breath style=width:270px;height:175px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/addons/p5.sound.min.js></script>
            
            
            
            
            
            <script>
              
    let img;

    function preload(){
        img = loadImage('img.svg');
    }

    function setup() {
        createCanvas(img.width, img.height);
        colorMode(RGB, 255); // Establecer el modo de color en RGB
        background(255); // Fondo blanco
        image(img, 0, 0); // Dibujar la imagen en el lienzo
        simProtanopia();
    }

    function draw() {
        
    }

    function simProtanopia(){
        loadPixels();

        //convertir rgb a xyz        
        let mc = [
            [0.4124564,0.3575761,0.1804375],
            [0.2126729,0.7151522,0.0721750],
            [0.0193339,0.1191920,0.9503041]
        ]
        for (let i = 0; i < pixels.length; i += 4) {
            let r = pixels[i];
            let g = pixels[i + 1];
            let b = pixels[i + 2];
            let newR = mc[0][0]*r + mc[0][1]*g + mc[0][2]*b;
            let newG = mc[1][0]*r + mc[1][1]*g + mc[1][2]*b;
            let newB = mc[2][0]*r + mc[2][1]*g + mc[2][2]*b;
            pixels[i] = newR;
            pixels[i + 1] = newG;
            pixels[i + 2] = newB;
        }

        //convertir xyz a lms
        mc = [
            [0.4002,0.7076,-0.0808],
            [-0.2263,1.1653,0.0457],
            [0,0,0.9182]
        ]
        for (let i = 0; i < pixels.length; i += 4) {
            let r = pixels[i];
            let g = pixels[i + 1];
            let b = pixels[i + 2];
            let newR = mc[0][0]*r + mc[0][1]*g + mc[0][2]*b;
            let newG = mc[1][0]*r + mc[1][1]*g + mc[1][2]*b;
            let newB = mc[2][0]*r + mc[2][1]*g + mc[2][2]*b;
            pixels[i] = newR;
            pixels[i + 1] = newG;
            pixels[i + 2] = newB;
        }

        //sim

        mc = [
            [0,1.05118294,-0.05116099],
            [0,1,0],
            [0,0,1]
        ]
        for (let i = 0; i < pixels.length; i += 4) {
            let r = pixels[i];
            let g = pixels[i + 1];
            let b = pixels[i + 2];
            let newR = mc[0][0]*r + mc[0][1]*g + mc[0][2]*b;
            let newG = mc[1][0]*r + mc[1][1]*g + mc[1][2]*b;
            let newB = mc[2][0]*r + mc[2][1]*g + mc[2][2]*b;
            pixels[i] = newR;
            pixels[i + 1] = newG;
            pixels[i + 2] = newB;
        }

        //lms to rgb
        mc = [
            [5.47221206,-4.6419601,0.16963708],
            [-1.1252419,2.29317094,-0.1678952],
            [0.02980165,-0.19318073,1.16364789]
        ]
        for (let i = 0; i < pixels.length; i += 4) {
            let r = pixels[i];
            let g = pixels[i + 1];
            let b = pixels[i + 2];
            let newR = mc[0][0]*r + mc[0][1]*g + mc[0][2]*b;
            let newG = mc[1][0]*r + mc[1][1]*g + mc[1][2]*b;
            let newB = mc[2][0]*r + mc[2][1]*g + mc[2][2]*b;
            pixels[i] = newR;
            pixels[i + 1] = newG;
            pixels[i + 2] = newB;
        }

        updatePixels();
    }




            </script>
          </head>
          <body>
          </body>
        </html>
      "></iframe><h3 id=imagen-con-deutaranopia>Imagen con Deutaranopia
<a class=anchor href=#imagen-con-deutaranopia>#</a></h3><p>Matriz de simulación,</p><span class=text-center>\(S_d = \begin{pmatrix} 1&amp;0&amp;0\\
0.9513092&amp;0&amp;0.04866992\\
0&amp;0&amp;1 \end{pmatrix}
\newline\)</span>
<iframe id=breath style=width:270px;height:175px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/addons/p5.sound.min.js></script>
            
            
            
            
            
            <script>
              
    let img;

    function preload(){
        img = loadImage('img.svg');
    }

    function setup() {
        createCanvas(img.width, img.height);
        colorMode(RGB, 255); // Establecer el modo de color en RGB
        background(255); // Fondo blanco
        image(img, 0, 0); // Dibujar la imagen en el lienzo
        simDeutaranopia();
    }

    function draw() {
        
    }

    function simDeutaranopia(){
        loadPixels();

        //convertir rgb a lms       
        let mc = [
            [0.31399022,0.63951294,0.04649755],
            [0.15537241,0.75789446,0.08670142],
            [0.01775239,0.10944209,0.87256922]
        ]
        for (let i = 0; i < pixels.length; i += 4) {
            let r = pixels[i];
            let g = pixels[i + 1];
            let b = pixels[i + 2];
            let newR = mc[0][0]*r + mc[0][1]*g + mc[0][2]*b;
            let newG = mc[1][0]*r + mc[1][1]*g + mc[1][2]*b;
            let newB = mc[2][0]*r + mc[2][1]*g + mc[2][2]*b;
            pixels[i] = newR;
            pixels[i + 1] = newG;
            pixels[i + 2] = newB;
        }

        //sim

        mc = [
            [1,0,0],
            [0.9513092,0,0.04866992],
            [0,0,1]
        ]
        for (let i = 0; i < pixels.length; i += 4) {
            let r = pixels[i];
            let g = pixels[i + 1];
            let b = pixels[i + 2];
            let newR = mc[0][0]*r + mc[0][1]*g + mc[0][2]*b;
            let newG = mc[1][0]*r + mc[1][1]*g + mc[1][2]*b;
            let newB = mc[2][0]*r + mc[2][1]*g + mc[2][2]*b;
            pixels[i] = newR;
            pixels[i + 1] = newG;
            pixels[i + 2] = newB;
        }

        //lms to rgb
        mc = [
            [5.47221206,-4.6419601,0.16963708],
            [-1.1252419,2.29317094,-0.1678952],
            [0.02980165,-0.19318073,1.16364789]
        ]
        for (let i = 0; i < pixels.length; i += 4) {
            let r = pixels[i];
            let g = pixels[i + 1];
            let b = pixels[i + 2];
            let newR = mc[0][0]*r + mc[0][1]*g + mc[0][2]*b;
            let newG = mc[1][0]*r + mc[1][1]*g + mc[1][2]*b;
            let newB = mc[2][0]*r + mc[2][1]*g + mc[2][2]*b;
            pixels[i] = newR;
            pixels[i + 1] = newG;
            pixels[i + 2] = newB;
        }

        updatePixels();
    }




            </script>
          </head>
          <body>
          </body>
        </html>
      "></iframe><h3 id=imagen-con-tritanopia>Imagen con Tritanopia
<a class=anchor href=#imagen-con-tritanopia>#</a></h3><p>Matriz de simulación,</p><p><span class=text-center>\(S_d = \begin{pmatrix} 1&amp;0&amp;0\\
0&amp;1&amp;0\\
-0.86744736&amp;1.86727089&amp;0 \end{pmatrix}
\newline\)</span>
<iframe id=breath style=width:270px;height:175px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/addons/p5.sound.min.js></script>
            
            
            
            
            
            <script>
              
    let img;

    function preload(){
        img = loadImage('img.svg');
    }

    function setup() {
        createCanvas(img.width, img.height);
        colorMode(RGB, 255); // Establecer el modo de color en RGB
        background(255); // Fondo blanco
        image(img, 0, 0); // Dibujar la imagen en el lienzo
        simTritanopia();
    }

    function draw() {
        
    }

    function simTritanopia(){
        loadPixels();

        //convertir rgb a lms       
        let mc = [
            [0.31399022,0.63951294,0.04649755],
            [0.15537241,0.75789446,0.08670142],
            [0.01775239,0.10944209,0.87256922]
        ]
        for (let i = 0; i < pixels.length; i += 4) {
            let r = pixels[i];
            let g = pixels[i + 1];
            let b = pixels[i + 2];
            let newR = mc[0][0]*r + mc[0][1]*g + mc[0][2]*b;
            let newG = mc[1][0]*r + mc[1][1]*g + mc[1][2]*b;
            let newB = mc[2][0]*r + mc[2][1]*g + mc[2][2]*b;
            pixels[i] = newR;
            pixels[i + 1] = newG;
            pixels[i + 2] = newB;
        }

        //sim

        mc = [
            [1,0,0],
            [0,1,0],
            [-0.86744736,1.86727089,0]
        ]
        for (let i = 0; i < pixels.length; i += 4) {
            let r = pixels[i];
            let g = pixels[i + 1];
            let b = pixels[i + 2];
            let newR = mc[0][0]*r + mc[0][1]*g + mc[0][2]*b;
            let newG = mc[1][0]*r + mc[1][1]*g + mc[1][2]*b;
            let newB = mc[2][0]*r + mc[2][1]*g + mc[2][2]*b;
            pixels[i] = newR;
            pixels[i + 1] = newG;
            pixels[i + 2] = newB;
        }

        //lms to rgb
        mc = [
            [5.47221206,-4.6419601,0.16963708],
            [-1.1252419,2.29317094,-0.1678952],
            [0.02980165,-0.19318073,1.16364789]
        ]
        for (let i = 0; i < pixels.length; i += 4) {
            let r = pixels[i];
            let g = pixels[i + 1];
            let b = pixels[i + 2];
            let newR = mc[0][0]*r + mc[0][1]*g + mc[0][2]*b;
            let newG = mc[1][0]*r + mc[1][1]*g + mc[1][2]*b;
            let newB = mc[2][0]*r + mc[2][1]*g + mc[2][2]*b;
            pixels[i] = newR;
            pixels[i + 1] = newG;
            pixels[i + 2] = newB;
        }

        updatePixels();
    }




            </script>
          </head>
          <body>
          </body>
        </html>
      "></iframe></p><h2 id=corrección-de-colores-para-los-daltónicos>Corrección de colores para los daltónicos
<a class=anchor href=#correcci%c3%b3n-de-colores-para-los-dalt%c3%b3nicos>#</a></h2><h3 id=protanopia>Protanopia
<a class=anchor href=#protanopia>#</a></h3><p>Matriz de corrección,</p><span class=text-center>\(S_c = \begin{pmatrix} 0.567&amp;0.433&amp;0\\
0.558&amp;0.442&amp;0\\
0&amp;0.242&amp;0.758 \end{pmatrix}
\newline\)</span><p><iframe id=breath style=width:270px;height:175px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/addons/p5.sound.min.js></script>
            
            
            
            
            
            <script>
              
    let img;

    function preload(){
        img = loadImage('img.svg');
    }

    function setup() {
        createCanvas(img.width, img.height);
        image(img,0,0)       
    }

    function draw(){
        
    }



            </script>
          </head>
          <body>
          </body>
        </html>
      "></iframe>
<iframe id=breath style=width:270px;height:175px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/addons/p5.sound.min.js></script>
            
            
            
            
            
            <script>
              
    let img;

    function preload(){
        img = loadImage('img.svg');
    }

    function setup() {
        createCanvas(img.width, img.height);
        colorMode(RGB, 255); // Establecer el modo de color en RGB
        background(255); // Fondo blanco
        image(img, 0, 0); // Dibujar la imagen en el lienzo
        simProtanopia();
    }

    function draw() {
        
    }

    function simProtanopia(){
        loadPixels();

        //convertir rgb a xyz        
        let mc = [
            [0.4124564,0.3575761,0.1804375],
            [0.2126729,0.7151522,0.0721750],
            [0.0193339,0.1191920,0.9503041]
        ]
        for (let i = 0; i < pixels.length; i += 4) {
            let r = pixels[i];
            let g = pixels[i + 1];
            let b = pixels[i + 2];
            let newR = mc[0][0]*r + mc[0][1]*g + mc[0][2]*b;
            let newG = mc[1][0]*r + mc[1][1]*g + mc[1][2]*b;
            let newB = mc[2][0]*r + mc[2][1]*g + mc[2][2]*b;
            pixels[i] = newR;
            pixels[i + 1] = newG;
            pixels[i + 2] = newB;
        }

        //convertir xyz a lms
        mc = [
            [0.4002,0.7076,-0.0808],
            [-0.2263,1.1653,0.0457],
            [0,0,0.9182]
        ]
        for (let i = 0; i < pixels.length; i += 4) {
            let r = pixels[i];
            let g = pixels[i + 1];
            let b = pixels[i + 2];
            let newR = mc[0][0]*r + mc[0][1]*g + mc[0][2]*b;
            let newG = mc[1][0]*r + mc[1][1]*g + mc[1][2]*b;
            let newB = mc[2][0]*r + mc[2][1]*g + mc[2][2]*b;
            pixels[i] = newR;
            pixels[i + 1] = newG;
            pixels[i + 2] = newB;
        }

        //sim

        mc = [
            [0,1.05118294,-0.05116099],
            [0,1,0],
            [0,0,1]
        ]
        for (let i = 0; i < pixels.length; i += 4) {
            let r = pixels[i];
            let g = pixels[i + 1];
            let b = pixels[i + 2];
            let newR = mc[0][0]*r + mc[0][1]*g + mc[0][2]*b;
            let newG = mc[1][0]*r + mc[1][1]*g + mc[1][2]*b;
            let newB = mc[2][0]*r + mc[2][1]*g + mc[2][2]*b;
            pixels[i] = newR;
            pixels[i + 1] = newG;
            pixels[i + 2] = newB;
        }

        //lms to rgb
        mc = [
            [5.47221206,-4.6419601,0.16963708],
            [-1.1252419,2.29317094,-0.1678952],
            [0.02980165,-0.19318073,1.16364789]
        ]
        for (let i = 0; i < pixels.length; i += 4) {
            let r = pixels[i];
            let g = pixels[i + 1];
            let b = pixels[i + 2];
            let newR = mc[0][0]*r + mc[0][1]*g + mc[0][2]*b;
            let newG = mc[1][0]*r + mc[1][1]*g + mc[1][2]*b;
            let newB = mc[2][0]*r + mc[2][1]*g + mc[2][2]*b;
            pixels[i] = newR;
            pixels[i + 1] = newG;
            pixels[i + 2] = newB;
        }

        updatePixels();
    }

            </script>
          </head>
          <body>
          </body>
        </html>
      "></iframe>
<iframe id=breath style=width:270px;height:175px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/addons/p5.sound.min.js></script>
            
            
            
            
            
            <script>
              
    let img;

    function preload(){
        img = loadImage('img.svg');
    }

    function setup() {
        createCanvas(img.width, img.height);
        colorMode(RGB, 255); // Establecer el modo de color en RGB
        background(255); // Fondo blanco
        image(img, 0, 0); // Dibujar la imagen en el lienzo
        simProtanopia();
    }

    function draw() {
        
    }

    function simProtanopia(){
        loadPixels();

        //convertir rgb a lms       
        let mc = [
            [0.31399022,0.63951294,0.04649755],
            [0.15537241,0.75789446,0.08670142],
            [0.01775239,0.10944209,0.87256922]
        ]
        for (let i = 0; i < pixels.length; i += 4) {
            let r = pixels[i];
            let g = pixels[i + 1];
            let b = pixels[i + 2];
            let newR = mc[0][0]*r + mc[0][1]*g + mc[0][2]*b;
            let newG = mc[1][0]*r + mc[1][1]*g + mc[1][2]*b;
            let newB = mc[2][0]*r + mc[2][1]*g + mc[2][2]*b;
            pixels[i] = newR;
            pixels[i + 1] = newG;
            pixels[i + 2] = newB;
        }

        //sim

        mc = [
            [0.567, 0.433, 0],
            [0.558, 0.442, 0],
            [0    , 0.242, 0.758]
        ]
        for (let i = 0; i < pixels.length; i += 4) {
            let r = pixels[i];
            let g = pixels[i + 1];
            let b = pixels[i + 2];
            let newR = mc[0][0]*r + mc[0][1]*g + mc[0][2]*b;
            let newG = mc[1][0]*r + mc[1][1]*g + mc[1][2]*b;
            let newB = mc[2][0]*r + mc[2][1]*g + mc[2][2]*b;
            pixels[i] = newR;
            pixels[i + 1] = newG;
            pixels[i + 2] = newB;
        }

        //lms to rgb
        mc = [
            [5.47221206,-4.6419601,0.16963708],
            [-1.1252419,2.29317094,-0.1678952],
            [0.02980165,-0.19318073,1.16364789]
        ]
        for (let i = 0; i < pixels.length; i += 4) {
            let r = pixels[i];
            let g = pixels[i + 1];
            let b = pixels[i + 2];
            let newR = mc[0][0]*r + mc[0][1]*g + mc[0][2]*b;
            let newG = mc[1][0]*r + mc[1][1]*g + mc[1][2]*b;
            let newB = mc[2][0]*r + mc[2][1]*g + mc[2][2]*b;
            pixels[i] = newR;
            pixels[i + 1] = newG;
            pixels[i + 2] = newB;
        }

        updatePixels();
    }




            </script>
          </head>
          <body>
          </body>
        </html>
      "></iframe></p><h3 id=deuteranopia>Deuteranopia
<a class=anchor href=#deuteranopia>#</a></h3><p>Matriz de corrección,</p><span class=text-center>\(S_c = \begin{pmatrix} 0.625&amp;0.375&amp;0\\
0.7&amp;0.3&amp;0\\
0&amp;0.3&amp;0.7 \end{pmatrix}
\newline\)</span>
<iframe id=breath style=width:270px;height:175px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/addons/p5.sound.min.js></script>
            
            
            
            
            
            <script>
              
    let img;

    function preload(){
        img = loadImage('img.svg');
    }

    function setup() {
        createCanvas(img.width, img.height);
        colorMode(RGB, 255); // Establecer el modo de color en RGB
        background(255); // Fondo blanco
        image(img, 0, 0); // Dibujar la imagen en el lienzo
        simDeuteranopia();
    }

    function draw() {
        
    }

    function simDeuteranopia(){
        loadPixels();

        //convertir rgb a lms       
        let mc = [
            [0.31399022,0.63951294,0.04649755],
            [0.15537241,0.75789446,0.08670142],
            [0.01775239,0.10944209,0.87256922]
        ]
        for (let i = 0; i < pixels.length; i += 4) {
            let r = pixels[i];
            let g = pixels[i + 1];
            let b = pixels[i + 2];
            let newR = mc[0][0]*r + mc[0][1]*g + mc[0][2]*b;
            let newG = mc[1][0]*r + mc[1][1]*g + mc[1][2]*b;
            let newB = mc[2][0]*r + mc[2][1]*g + mc[2][2]*b;
            pixels[i] = newR;
            pixels[i + 1] = newG;
            pixels[i + 2] = newB;
        }

        //sim

        mc = [
            [0.625, 0.375, 0 ],
            [0.7  , 0.3  , 0],
            [0    , 0.3  , 0.7]
        ]
        for (let i = 0; i < pixels.length; i += 4) {
            let r = pixels[i];
            let g = pixels[i + 1];
            let b = pixels[i + 2];
            let newR = mc[0][0]*r + mc[0][1]*g + mc[0][2]*b;
            let newG = mc[1][0]*r + mc[1][1]*g + mc[1][2]*b;
            let newB = mc[2][0]*r + mc[2][1]*g + mc[2][2]*b;
            pixels[i] = newR;
            pixels[i + 1] = newG;
            pixels[i + 2] = newB;
        }

        //lms to rgb
        mc = [
            [5.47221206,-4.6419601,0.16963708],
            [-1.1252419,2.29317094,-0.1678952],
            [0.02980165,-0.19318073,1.16364789]
        ]
        for (let i = 0; i < pixels.length; i += 4) {
            let r = pixels[i];
            let g = pixels[i + 1];
            let b = pixels[i + 2];
            let newR = mc[0][0]*r + mc[0][1]*g + mc[0][2]*b;
            let newG = mc[1][0]*r + mc[1][1]*g + mc[1][2]*b;
            let newB = mc[2][0]*r + mc[2][1]*g + mc[2][2]*b;
            pixels[i] = newR;
            pixels[i + 1] = newG;
            pixels[i + 2] = newB;
        }

        updatePixels();
    }




            </script>
          </head>
          <body>
          </body>
        </html>
      "></iframe><h3 id=tritanopia>Tritanopia
<a class=anchor href=#tritanopia>#</a></h3><p>Matriz de corrección,</p><p><span class=text-center>\(S_c = \begin{pmatrix} 0.95&amp;0.05&amp;0\\
-0.38&amp;1.38&amp;0\\
0&amp;0&amp;1 \end{pmatrix}
\newline\)</span>
<iframe id=breath style=width:270px;height:175px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/addons/p5.sound.min.js></script>
            
            
            
            
            
            <script>
              
    let img;

    function preload(){
        img = loadImage('img.svg');
    }

    function setup() {
        createCanvas(img.width, img.height);
        colorMode(RGB, 255); // Establecer el modo de color en RGB
        background(255); // Fondo blanco
        image(img, 0, 0); // Dibujar la imagen en el lienzo
        simTritanopia();
    }

    function draw() {
        
    }

    function simTritanopia(){
        loadPixels();

        //convertir rgb a lms       
        let mc = [
            [0.31399022,0.63951294,0.04649755],
            [0.15537241,0.75789446,0.08670142],
            [0.01775239,0.10944209,0.87256922]
        ]
        for (let i = 0; i < pixels.length; i += 4) {
            let r = pixels[i];
            let g = pixels[i + 1];
            let b = pixels[i + 2];
            let newR = mc[0][0]*r + mc[0][1]*g + mc[0][2]*b;
            let newG = mc[1][0]*r + mc[1][1]*g + mc[1][2]*b;
            let newB = mc[2][0]*r + mc[2][1]*g + mc[2][2]*b;
            pixels[i] = newR;
            pixels[i + 1] = newG;
            pixels[i + 2] = newB;
        }

        //sim

        mc = [
            [0.95, 0.05, 0],
            [-0.38, 1.38, 0],
            [0,     0,    1]
        ]
        for (let i = 0; i < pixels.length; i += 4) {
            let r = pixels[i];
            let g = pixels[i + 1];
            let b = pixels[i + 2];
            let newR = mc[0][0]*r + mc[0][1]*g + mc[0][2]*b;
            let newG = mc[1][0]*r + mc[1][1]*g + mc[1][2]*b;
            let newB = mc[2][0]*r + mc[2][1]*g + mc[2][2]*b;
            pixels[i] = newR;
            pixels[i + 1] = newG;
            pixels[i + 2] = newB;
        }

        //lms to rgb
        mc = [
            [5.47221206,-4.6419601,0.16963708],
            [-1.1252419,2.29317094,-0.1678952],
            [0.02980165,-0.19318073,1.16364789]
        ]
        for (let i = 0; i < pixels.length; i += 4) {
            let r = pixels[i];
            let g = pixels[i + 1];
            let b = pixels[i + 2];
            let newR = mc[0][0]*r + mc[0][1]*g + mc[0][2]*b;
            let newG = mc[1][0]*r + mc[1][1]*g + mc[1][2]*b;
            let newB = mc[2][0]*r + mc[2][1]*g + mc[2][2]*b;
            pixels[i] = newR;
            pixels[i + 1] = newG;
            pixels[i + 2] = newB;
        }

        updatePixels();
    }




            </script>
          </head>
          <body>
          </body>
        </html>
      "></iframe></p></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/compuvisual2023i/showcase/commit/efd381858a7f65939abf3f801626ebe91e25aa6e title='Last modified by John | March 22, 2023' target=_blank rel=noopener><img src=/showcase/svg/calendar.svg class=book-icon alt=Calendar>
<span>March 22, 2023</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#color-blind-daltonismo>Color Blind (Daltonismo)</a></li><li><a href=#simulación-de-tipos-de-daltonismo>Simulación de tipos de daltonismo</a><ul><li><ul><li><a href=#conversión-de-rgb-a-lms>Conversión de RGB a LMS</a></li><li><a href=#imagen-original>Imagen Original</a></li><li><a href=#imagen-con-protanopia>Imagen con Protanopia</a></li><li><a href=#imagen-con-deutaranopia>Imagen con Deutaranopia</a></li><li><a href=#imagen-con-tritanopia>Imagen con Tritanopia</a></li></ul></li><li><a href=#corrección-de-colores-para-los-daltónicos>Corrección de colores para los daltónicos</a><ul><li><a href=#protanopia>Protanopia</a></li><li><a href=#deuteranopia>Deuteranopia</a></li><li><a href=#tritanopia>Tritanopia</a></li></ul></li></ul></li></ul></nav></div></aside></main></body></html>